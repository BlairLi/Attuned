<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Attuned | Dashboard</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="../assets/plugins/fontawesome-free/css/all.min.css"
    />
    <!-- Ionicons -->
    <link
      rel="stylesheet"
      href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"
    />
    <!-- Tempusdominus Bbootstrap 4 -->
    <link
      rel="stylesheet"
      href="../assets/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css"
    />
    <!-- iCheck -->
    <link
      rel="stylesheet"
      href="../assets/plugins/icheck-bootstrap/icheck-bootstrap.min.css"
    />
    <!-- JQVMap -->
    <link rel="stylesheet" href="../assets/plugins/jqvmap/jqvmap.min.css" />
    <!-- Theme style -->
    <link rel="stylesheet" href="../assets/dist/css/adminlte.min.css" />
    <!-- overlayScrollbars -->
    <link
      rel="stylesheet"
      href="../assets/plugins/overlayScrollbars/css/OverlayScrollbars.min.css"
    />

    <link rel="stylesheet" href="../assets/dist/css/notification.css" />
    <!-- Daterange picker -->
    <link
      rel="stylesheet"
      href="../assets/plugins/daterangepicker/daterangepicker.css"
    />
    <!-- summernote -->
    <link
      rel="stylesheet"
      href="../assets/plugins/summernote/summernote-bs4.css"
    />
    <!-- Google Font: Source Sans Pro -->
    <link
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700"
      rel="stylesheet"
    />
    <link rel="icon" href="/assets/dist/img/fav.png" />
  </head>

  <body class="hold-transition sidebar-mini layout-fixed">
    <div class="wrapper">
      <!-- Navbar -->
      <%- include('./common/header.ejs') -%>
      <!-- /.navbar -->

      <!-- Main Sidebar Container -->
      <aside class="main-sidebar sidebar-dark-primary elevation-4">
        <!-- Brand Logo -->
        <a href="index3.html" class="brand-link">
          <img
            src="../assets/dist/img/AdminLTELogo.png"
            alt="AdminLTE Logo"
            class="brand-image img-circle elevation-3"
            style="opacity: 0.8;"
          />
          <span class="brand-text font-weight-light">Attuned</span>
        </a>

        <!-- Sidebar -->

        <%- include('./common/sidebar.ejs') -%>
        <!-- /.sidebar -->
      </aside>

      <div class="content-wrapper">
        <div class="cr-page px-3 NotificationList">
          <div class="cr-page__header">
            <h1 class="h1 cr-page__title">Notification List</h1>
          </div>
          <div class="headerFilters">
            <form class="cr-search-form">
              <input
                placeholder="Search..."
                name="search"
                type="search"
                class="cr-search-form__input form-control"
              />

              <button type="submit" class="searchSubmit">
                <svg
                  stroke="currentColor"
                  fill="currentColor"
                  stroke-width="0"
                  viewBox="0 0 24 24"
                  size="20"
                  class="cr-search-form__icon-search text-secondary"
                  height="20"
                  width="20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                  ></path>
                </svg>
              </button>
            </form>
          </div>
          <div class="users-list" style="display: none;">
            <table class="table">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Message</th>
                  <th>Notification Type</th>
                  <th>Sent To</th>
                  <th>Sent From</th>
                  <th>Title</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Content Wrapper. Contains page content -->

      <div class="maxoverlay"></div>
      <style>
        div#example1_filter {
          display: block;
          text-align: right;
          margin-bottom: 10px;
        }
        .maxoverlay {
          position: fixed;
          top: 0;
          right: 0;
          left: 0;
          display: none;
          bottom: 0;
          z-index: 9999;
          background-color: rgba(0, 0, 0, 0.3);
        }
        .maxuserrecording i {
          display: inline-block;
          vertical-align: middle;
        }

        .maxuserrecording {
          display: inline-block;
          cursor: pointer;
          position: relative;
          top: 5px;
        }
        .fa-file-sound-o:before,
        .fa-file-audio-o:before {
          content: "\f1c7";
        }
        .cr-page__header h1 {
          font-size: 24px;
          margin-bottom: 20px;
        }

        .form-group label {
          font-size: 17px !important;
          font-family: Source Sans Pro, Helvetica Neue, Helvetica, Arial,
            sans-serif;
          display: inline-block;
          margin-bottom: 0.5rem;
          font-weight: normal !important;
        }

        textarea.text150.form-control {
          min-height: 150px;
        }

        .inlineBlock {
          display: inline-block;
          vertical-align: middle;
        }

        .radioWrap {
          position: relative;
        }

        .inlineBlock.radioWrap {
          margin-right: 25px;
        }

        .radioWrap .formRadio {
          width: 20px;
          height: 20px;
          margin: 0;
          position: absolute;
          left: 0;
          top: 0;
          opacity: 0;
          z-index: 1;
          cursor: pointer;
        }

        .radioWrap .formRadio:checked + svg {
          color: #007bff;
          width: 23px;
          height: 23px;
          border: none;
        }

        .radioWrap svg {
          color: transparent;
          width: 20px;
          height: 20px;
          border: 1px solid #ced4da;
          border-radius: 50%;
        }

        .headerFilters .cr-search-form .cr-search-form__input {
          width: 100% !important;
          padding: 6px 0 6px 20px !important;
          height: unset;
          font-size: 13px;
          box-shadow: none !important;
          padding-right: 35px !important;
        }
        nav.main-header.navbar.navbar-expand.navbar-white.navbar-light {
          display: none;
        }
        .headerFilters .cr-search-form .searchSubmit {
          top: 50%;
          -webkit-transform: translateY(-50%);
          transform: translateY(-50%);
          position: absolute;
          right: 8px;
          border: none;
          background: #fff;
          width: 30px;
          z-index: 2;
          outline: none;
        }

        .headerFilters .cr-search-form {
          width: 100%;
          margin-right: 10px;
          background: #fff;
          border-radius: 0.25rem;
          border: 1px solid #ced4da;
          margin-bottom: 10px;
          margin-top: 20px;
        }

        .cr-search-form {
          position: relative;
        }

        .checkBox input {
          width: 25px;
          height: 25px;
          position: absolute;
          left: 50%;
          top: 50%;
          -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
          z-index: 1;
          opacity: 0;
          cursor: pointer;
        }

        .checkBox span {
          width: 25px;
          height: 25px;
          display: block;
          margin: auto;
          border: 1px solid #dee2e6;
          position: relative;
          cursor: pointer;
        }

        .checkBox span svg {
          position: absolute;
          top: 50%;
          left: 50%;
          -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
          width: 100%;
          height: 100%;
          fill: #fff;
          background: #007bff;
          border: 4px solid #007bff;
          display: none;
          cursor: pointer;
        }

        .checkBox input:checked + span svg {
          display: block;
        }

        .checkBox {
          position: relative;
        }

        .sendForm .form-group {
          margin-bottom: 20px;
          margin-top: 10px;
        }

        .sendForm .form-group button.btn.gradient_btn {
          background-color: #007bff;
          text-decoration: none;
          display: inline-block;
          color: #fff;
          padding: 5px 20px;
        }

        .radioWrap label {
          margin-left: 10px;
          font-size: 15px !important;
          cursor: pointer;
        }

        .hideModal {
          display: none;
        }

        .showModal {
          display: block;
        }

        .cr-page.px-3 {
          padding: 40px;
        }

        #example1 th.sorting:nth-child(n + 4),
        .users-table tbody tr:nth-child(n + 21),
        #example1 tbody tr td:nth-child(n + 4) {
          display: none;
        }
        .imgloader img {
          width: 30px;
        }
        .userSelection > div {
          visibility: hidden;
        }
        .table-bordered td,
        .table-bordered th {
          text-align: center;
        }

        .table-bordered {
          margin: 0;
        }
        #example1 thead tr td:first-child,
        #example1 tbody tr td:first-child {
          width: 15%;
        }

        .users-list table.table {
          background: #fff;
        }
        .table td,
        .table th {
          border: 2px solid #dee2e6;
          text-align: center;
        }

        table.table th {
          border-width: 1px !important;
          border-color: #cecfd5 !important;
          border-top: 1px solid #cecfd5 !important;
          word-break: break-word;
        }
        .table td {
          border-bottom: 1px solid #cecfd5;
          border-right: 1px solid #cecfd5;
        }
        .users-list table th,
        .users-list table td {
          width: 15%;
        }

        .users-list table th:nth-child(2),
        .users-list table td:nth-child(2) {
          width: 30%;
        }
      </style>

      <!-- /.content-wrapper -->
      <!-- <%- include('./common/footer.ejs') -%> -->

      <!-- Control Sidebar -->
      <aside class="control-sidebar control-sidebar-dark">
        <!-- Control sidebar content goes here -->
      </aside>
      <!-- /.control-sidebar -->
    </div>
    <!-- ./wrapper -->

    <!-- jQuery -->
    <script src="../assets/plugins/jquery/jquery.min.js"></script>
    <!-- jQuery UI 1.11.4 -->
    <script src="../assets/plugins/jquery-ui/jquery-ui.min.js"></script>
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
      $.widget.bridge("uibutton", $.ui.button);
    </script>
    <!-- Bootstrap 4 -->
    <script src="../assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- ChartJS -->
    <script src="../assets/plugins/chart.js/Chart.min.js"></script>
    <!-- Sparkline -->
    <script src="../assets/plugins/sparklines/sparkline.js"></script>
    <!-- JQVMap -->
    <script src="../assets/plugins/jqvmap/jquery.vmap.min.js"></script>
    <script src="../assets/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
    <!-- jQuery Knob Chart -->
    <script src="../assets/plugins/jquery-knob/jquery.knob.min.js"></script>
    <!-- daterangepicker -->
    <script src="../assets/plugins/moment/moment.min.js"></script>
    <script src="../assets/plugins/daterangepicker/daterangepicker.js"></script>
    <!-- Tempusdominus Bootstrap 4 -->
    <script src="../assets/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
    <!-- Summernote -->
    <script src="../assets/plugins/summernote/summernote-bs4.min.js"></script>
    <!-- overlayScrollbars -->
    <script src="../assets/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <!-- AdminLTE App -->
    <script src="../assets/dist/js/adminlte.js"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <script src="../assets/dist/js/pages/dashboard.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="../assets/dist/js/demo.js"></script>
    <script>
      function NotificationList() {
        $(".max-loader-overlay").fadeIn();
        fetch("/admin/notificationList")
          .then((res) => res.json())
          .then((data) => {
            var alldata = data.data;
            alldata.forEach((item) => {
              $(".users-list table tbody").append(`
            <tr>
   <td >${item.name}</td>
   <td >${item.message}</td>
   <td >${item.notificationType}</td>
   <td >${item.sentTo}</td>
   <td >${item.sentFrom}</td>
   <td >${item.title}</td>
</tr>
            `);
            });
          });
        $(".users-list").css("display", "block");
        setTimeout(function () {
          $(".max-loader-overlay").fadeOut();
        }, 2500);
      }
      NotificationList();
      $(".headerFilters .cr-search-form").submit(function (event) {
        event.preventDefault();
        var val = $(this).find(".cr-search-form__input").val().toLowerCase();
        $(".NotificationPage .users-table tbody tr,.users-list tbody tr").each(
          function () {
            var td = $(this).find("*").text().toLowerCase();
            if (td.indexOf(val) !== -1) {
              $(this).fadeIn();
              $(this).addClass("current");
            } else {
              $(this).fadeOut();
              $(this).removeClass("current");
            }
          }
        );
      });
    </script>
  </body>
</html>
